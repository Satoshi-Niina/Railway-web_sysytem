# ===================================
# Server - 本番環境用設定 (.env.production)
# ===================================
# このファイルはGitHubシークレットから環境変数を注入するためのテンプレートです
# GitHub Actions / Cloud Run で設定してください

# -----------------------------------
# 環境設定
# -----------------------------------
NODE_ENV=production

# -----------------------------------
# GCPプロジェクト設定
# -----------------------------------
GCP_PROJECT_ID=maint-vehicle-management

# -----------------------------------
# データベース設定（Cloud SQL）
# -----------------------------------
# 通常のDATABASE_URL（後方互換性のため保持）
# GitHub Secretsから注入: DATABASE_URL
DATABASE_URL=

# Cloud SQL Socket接続用（推奨）
# Cloud Run環境ではこちらを優先的に使用
# GitHub Secretsから注入: DATABASE_URL_PRODUCTION
DATABASE_URL_PRODUCTION=

# Cloud SQL接続名
# GitHub Secretsから注入: CLOUD_SQL_INSTANCE_CONNECTION_NAME
CLOUD_SQL_INSTANCE_CONNECTION_NAME=maint-vehicle-management:asia-northeast2:free-trial-first-project

# Cloud SQL Socketを使用する場合はSSL不要
DB_SSL_ENABLED=false

# 接続プール設定
DB_POOL_MIN=5
DB_POOL_MAX=20

# -----------------------------------
# CORS設定
# -----------------------------------
# GitHub Secretsから注入: ALLOWED_ORIGINS
ALLOWED_ORIGINS=https://railway-client-800711608362.asia-northeast2.run.app
CORS_CREDENTIALS=true

# -----------------------------------
# ログ設定
# -----------------------------------
LOG_LEVEL=info

# -----------------------------------
# セッション設定
# -----------------------------------
# GitHub Secretsから注入: SESSION_SECRET
SESSION_SECRET=
SESSION_TIMEOUT=1800000  # 30分

# -----------------------------------
# セキュリティ設定
# -----------------------------------
ENABLE_HELMET=true
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=900000  # 15分
RATE_LIMIT_MAX_REQUESTS=100

# SSL/TLS設定（アプリケーションレベル）
FORCE_HTTPS=true

# -----------------------------------
# 開発モード設定
# -----------------------------------
DEV_MODE=false
DEBUG=false

# -----------------------------------
# サーバー設定
# -----------------------------------
PORT=8080  # Cloud Runのデフォルトポート
