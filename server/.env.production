# ===================================
# Server - 本番環境用設定テンプレート
# ===================================
# 本番環境では、このファイルをコピーして
# .env.production.local として使用し、
# 適切な値に置き換えてください。
# ===================================

# 環境設定
NODE_ENV=production

# サーバー設定
PORT=3001
HOST=0.0.0.0

# データベース設定（本番環境）
# ※本番環境のデータベース接続情報に変更してください
DATABASE_URL=postgresql://username:password@production-db-host:5432/railway_maintenance_prod
DB_HOST=production-db-host
DB_PORT=5432
DB_NAME=railway_maintenance_prod
DB_USER=your_production_db_user
DB_PASSWORD=your_production_db_password
DB_SSL=true

# 接続プール設定
DB_POOL_MIN=5
DB_POOL_MAX=20

# CORS設定（本番環境）
# ※本番環境の許可するオリジンを指定してください
ALLOWED_ORIGINS=https://your-production-domain.com
CORS_CREDENTIALS=true

# ストレージ設定（本番環境）
STORAGE_TYPE=cloud

# クラウドストレージを使用する場合
# ※クラウドプロバイダーの設定に応じて変更してください
CLOUD_STORAGE_PROVIDER=s3  # s3, gcs, azure など
CLOUD_STORAGE_BUCKET=your-production-bucket
CLOUD_STORAGE_REGION=ap-northeast-1
CLOUD_STORAGE_ACCESS_KEY=your_access_key
CLOUD_STORAGE_SECRET_KEY=your_secret_key

# ローカルストレージを使用する場合
STORAGE_PATH=/var/app/data
UPLOAD_PATH=/var/app/data/uploads
IMAGE_PATH=/var/app/data/images
DOCUMENT_PATH=/var/app/data/documents

# ログ設定
LOG_LEVEL=info
LOG_FILE=/var/log/railway-server/server.log

# セッション設定（本番環境）
# ※必ず強力なランダムな秘密鍵に変更してください
SESSION_SECRET=change_this_to_a_strong_random_secret_key_in_production
SESSION_TIMEOUT=1800000  # 30分

# セキュリティ設定
ENABLE_HELMET=true
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=900000  # 15分
RATE_LIMIT_MAX_REQUESTS=100

# SSL/TLS設定
FORCE_HTTPS=true
SSL_CERT_PATH=/etc/ssl/certs/server.crt
SSL_KEY_PATH=/etc/ssl/private/server.key

# 開発モード（本番環境では必ずfalse）
DEV_MODE=false
DEBUG=false

# バックアップ設定（オプション）
ENABLE_AUTO_BACKUP=true
BACKUP_SCHEDULE=0 2 * * *  # 毎日午前2時
BACKUP_PATH=/var/backups/railway-db
